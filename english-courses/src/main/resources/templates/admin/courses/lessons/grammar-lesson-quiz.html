<!DOCTYPE html>
<html xmlns:th="http://wwww.thymeleaf.org"
      xmlns:layout="https://github.com/ultraq/thymeleaf-layout-dialect"
      layout:decorate="~{layouts/dashboard-layout}">
<head>
    <title th:text="#{course-management}">Danh sách khoá học</title>
    <!-- PLUGINS STYLES-->
    <link th:href="@{/css/plugins/summernote.css}" rel="stylesheet"/>
    <!-- THEME STYLES-->
    <link th:href="@{/css/main.min.css}" rel="stylesheet"/>
    <!-- PAGE LEVEL STYLES-->
</head>

<body>
<div layout:fragment="content" class="page-content fade-in-up">
    <div class="ibox">
        <div class="ibox-head">
            <div class="ibox-title">Quiz</div>
        </div>
        <div class="ibox-body">
            <div id="alert-container"></div>
            <form id="quiz-form" novalidate>
                <h4>Câu hỏi</h4>
                <div class="form-group">
                    <label for="question"><strong>Câu hỏi</strong></label>
                    <input id="question" type="text" class="form-control" placeholder="Câu hỏi"/>
                </div>
                <h4>Đáp án</h4>
                <div class="form-group">
                    <label for="answer1"><strong>Đáp án 1</strong></label>
                    <label><input type="radio" name="rightAnswer"> <span> Đáp án đúng</span></label>
                    <input id="answer1" type="text" class="form-control" placeholder="Đáp án 1">
                </div>
                <div class="form-group">
                    <label for="answer2"><strong>Đáp án 2</strong></label>
                    <label><input type="radio" name="rightAnswer"> <span> Đáp án đúng</span></label>
                    <input id="answer2" type="text" class="form-control" placeholder="Đáp án 2">
                </div>
                <div class="form-group">
                    <label for="answer3"><strong>Đáp án 3</strong></label>
                    <label><input type="radio" name="rightAnswer"> <span> Đáp án đúng</span></label>
                    <input id="answer3" type="text" class="form-control" placeholder="Đáp án 3">
                </div>
                <div class="form-group">
                    <label for="answer4"><strong>Đáp án 4</strong></label>
                    <label><input type="radio" name="rightAnswer"> <span> Đáp án đúng</span></label>
                    <input id="answer4" type="text" class="form-control" placeholder="Đáp án 4">
                </div>
                <div class="form-group">
                    <button class="btn btn-primary">Thêm vào bài quiz</button>
                </div>
            </form>
        </div>
    </div>
</div>
<th:block layout:fragment="page-level-scripts">
    <!-- PAGE LEVEL SCRIPTS-->
    <script>
        $(document).ready(function () {
            var alertContainer = document.getElementById('alert-container');
            var quizForm = document.getElementById('quiz-form');
            var questionHTMLElement = document.getElementById('question');
            var answer1HTMLElement = document.getElementById('answer1');
            var answer2HTMLElement = document.getElementById('answer2');
            var answer3HTMLElement = document.getElementById('answer3');
            var answer4HTMLElement = document.getElementById('answer4');

            var rightAnswerRadios = document.querySelectorAll('input[name="rightAnswer"]');
            for (var i = 0; i < rightAnswerRadios.length; i++) {
                rightAnswerRadios[i].addEventListener('change', handleRightAnswerChecked);
            }

            function handleRightAnswerChecked() {
                for (var i = 0; i < rightAnswerRadios.length; i++) {
                    var textInput;
                    if(rightAnswerRadios[i] === this){
                        textInput = this.parentElement.nextElementSibling;
                        textInput.dataset.rightAnswer = 'true';
                    } else {
                        textInput = rightAnswerRadios[i].parentElement.nextElementSibling;
                        textInput.dataset.rightAnswer = 'false';
                    }
                }
            }

            function saveQuestion() {
                var question = questionHTMLElement.value;
                var answer1 = answer1HTMLElement.value;
                var answer2 = answer2HTMLElement.value;
                var answer3 = answer3HTMLElement.value;
                var answer4 = answer4HTMLElement.value;
            }
        });
    </script>
</th:block>
</body>
</html>